<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SleepWise AI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes float {
            0% { transform: translateY(0); }
            100% { transform: translateY(-20px); }
        }
        .floating-sleep {
            position: absolute;
            opacity: 0.6;
            animation: float 6s infinite alternate ease-in-out;
        }
        @keyframes blink {
            0% { opacity: 0.2; }
            50% { opacity: 1; }
            100% { opacity: 0.2; }
        }
    </style>
</head>
<body class="font-sans bg-[#f4f8fb] text-[#333] leading-relaxed overflow-x-hidden transition-colors duration-300 dark:bg-[#1a1a1a] dark:text-[#eee]">

    <nav class="bg-white p-5 md:px-10 shadow-md flex justify-between items-center fixed top-0 left-0 w-full z-[100] transition-colors duration-300 dark:bg-[#222] dark:shadow-[0_2px_4px_rgba(255,255,255,0.1)]">
        <div class="text-2xl font-bold text-[#6c63ff] dark:text-[#a78bfa] transition-colors duration-300">SleepWise AI</div>
        <ul class="flex items-center space-x-4 md:space-x-8 flex-col md:flex-row md:mt-0 mt-4 w-full md:w-auto text-center">
            <li class="md:my-0 my-2"><a href="#features" class="text-[#555] font-medium hover:text-[#6c63ff] dark:text-[#bbb] dark:hover:text-[#a78bfa] transition-colors duration-300">Features</a></li>
            <li class="md:my-0 my-2"><a href="#how-it-works" class="text-[#555] font-medium hover:text-[#6c63ff] dark:text-[#bbb] dark:hover:text-[#a78bfa] transition-colors duration-300">How it Works</a></li>
            <li class="md:my-0 my-2"><a href="#testimonials" class="text-[#555] font-medium hover:text-[#6c63ff] dark:text-[#bbb] dark:hover:text-[#a78bfa] transition-colors duration-300">Testimonials</a></li>
            <li class="md:my-0 my-2"><a href="analyze.html" class="text-[#555] font-medium hover:text-[#6c63ff] dark:text-[#bbb] dark:hover:text-[#a78bfa] transition-colors duration-300">Analysis</a></li>
            <li class="md:my-0 my-2"><a href="#" class="bg-[#6c63ff] text-white px-6 py-3 rounded-full font-bold shadow-lg hover:bg-[#5e56d4] hover:-translate-y-0.5 transition-all duration-300">Login</a></li>
        </ul>
        <span class="dark-mode-toggle text-xl cursor-pointer text-[#555] hover:text-[#6c63ff] dark:text-[#bbb] dark:hover:text-[#a78bfa] transition-colors duration-300 ml-4 md:ml-8">🌙</span>
    </nav>

    <section class="hero bg-gradient-to-br from-[#e0f7fa] to-[#f3e5f5] pt-36 pb-24 px-5 md:px-10 text-center transition-colors duration-300 dark:from-[#2c2c2c] dark:to-[#3a3a3a]">
        <div class="max-w-3xl mx-auto animate__animated animate__fadeInUp animate__delay-0.5s">
            <h1 class="text-4xl md:text-5xl text-[#333] mb-5 leading-tight dark:text-[#eee] transition-colors duration-300">Unlock Your Best Sleep with AI</h1>
            <p class="text-lg md:text-xl text-[#555] mb-8 dark:text-[#bbb] transition-colors duration-300">Get personalized insights and recommendations to improve your sleep quality and overall well-being.</p>
            <div class="space-x-4">
                <a href="chatbot.html" class="bg-[#6c63ff] text-white px-6 py-3 rounded-full font-bold shadow-lg hover:bg-[#5e56d4] hover:-translate-y-0.5 transition-all duration-300 animate__animated animate__pulse animate__infinite animate__delay-2s">Start Chatting</a>
                <a href="analyze.html" class="bg-[#6c63ff] text-white px-6 py-3 rounded-full font-bold shadow-lg hover:bg-[#5e56d4] hover:-translate-y-0.5 transition-all duration-300 animate__animated animate__fadeIn animate__delay-2.5s">Go to Analysis</a>
            </div>
        </div>
        <div class="floating-sleep sleep-icon-1 top-[20%] left-[10%] text-3xl text-[#a78bfa] dark:text-[#d8b4fe] transition-colors duration-300">🌙</div>
        <div class="floating-sleep sleep-icon-2 top-[35%] right-[15%] text-4xl text-[#818cf8] dark:text-[#a5b4fc] transition-colors duration-300 animate-[float_6s_infinite_alternate_ease-in-out_1s]">😴</div>
        <div class="floating-sleep sleep-icon-3 bottom-[20%] left-[25%] text-[35px] text-[#60a5fa] dark:text-[#81d4fa] transition-colors duration-300 animate-[float_6s_infinite_alternate_ease-in-out_2s]">💤</div>
        <div class="floating-sleep sleep-icon-4 bottom-[30%] right-[5%] text-[45px] text-[#3b82f6] dark:text-[#60a5fa] transition-colors duration-300 animate-[float_6s_infinite_alternate_ease-in-out_0.5s]">✨</div>
    </section>

    <section id="features" class="features py-20 px-5 md:px-10 bg-white transition-colors duration-300 dark:bg-[#222]">
        <h2 class="text-3xl md:text-4xl text-[#333] text-center mb-10 dark:text-[#eee] transition-colors duration-300 animate__animated animate__fadeIn">Key Features</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mt-8">
            <div class="bg-[#f9f9f9] p-8 rounded-lg shadow-sm text-center hover:shadow-lg hover:-translate-y-1 transition-all duration-300 dark:bg-[#333] dark:text-[#bbb] dark:shadow-[0_2px_6px_rgba(255,255,255,0.05)] animate__animated animate__fadeInUp animate__delay-0.2s">
                <h3 class="text-2xl text-[#333] mb-4 dark:text-[#eee] transition-colors duration-300">Personalized Analysis</h3>
                <p class="text-[#555] dark:text-[#bbb] transition-colors duration-300">Receive tailored reports based on your sleep patterns and habits.</p>
            </div>
            <div class="bg-[#f9f9f9] p-8 rounded-lg shadow-sm text-center hover:shadow-lg hover:-translate-y-1 transition-all duration-300 dark:bg-[#333] dark:text-[#bbb] dark:shadow-[0_2px_6px_rgba(255,255,255,0.05)] animate__animated animate__fadeInUp animate__delay-0.4s">
                <h3 class="text-2xl text-[#333] mb-4 dark:text-[#eee] transition-colors duration-300">Actionable Insights</h3>
                <p class="text-[#555] dark:text-[#bbb] transition-colors duration-300">Get practical advice and recommendations to improve your sleep quality.</p>
            </div>
            <div class="bg-[#f9f9f9] p-8 rounded-lg shadow-sm text-center hover:shadow-lg hover:-translate-y-1 transition-all duration-300 dark:bg-[#333] dark:text-[#bbb] dark:shadow-[0_2px_6px_rgba(255,255,255,0.05)] animate__animated animate__fadeInUp animate__delay-0.6s">
                <h3 class="text-2xl text-[#333] mb-4 dark:text-[#eee] transition-colors duration-300">Track Your Progress</h3>
                <p class="text-[#555] dark:text-[#bbb] transition-colors duration-300">Monitor your sleep improvements over time and stay motivated.</p>
            </div>
            <div class="bg-[#f9f9f9] p-8 rounded-lg shadow-sm text-center hover:shadow-lg hover:-translate-y-1 transition-all duration-300 dark:bg-[#333] dark:text-[#bbb] dark:shadow-[0_2px_6px_rgba(255,255,255,0.05)] animate__animated animate__fadeInUp animate__delay-0.8s">
                <h3 class="text-2xl text-[#333] mb-4 dark:text-[#eee] transition-colors duration-300">Learn About Sleep Science</h3>
                <p class="text-[#555] dark:text-[#bbb] transition-colors duration-300">Understand the science behind healthy sleep and its impact on your life.</p>
            </div>
        </div>
    </section>

    <section id="how-it-works" class="py-20 px-5 md:px-10 bg-[#f9f9f9] dark:bg-[#333] dark:text-[#bbb] transition-colors duration-300">
        <h2 class="text-3xl md:text-4xl text-[#333] text-center mb-10 dark:text-[#eee] transition-colors duration-300 animate__animated animate__fadeIn">How It Works</h2>
        <div class="max-w-3xl mx-auto space-y-8">
            <div class="flex items-center">
                <span class="bg-[#6c63ff] text-white rounded-full w-10 h-10 flex justify-center items-center font-bold mr-5 dark:bg-[#a78bfa] transition-colors duration-300">1</span>
                <div>
                    <h3 class="text-2xl text-[#333] mb-2 dark:text-[#eee] transition-colors duration-300">Tell Us About Your Sleep</h3>
                    <p class="text-[#555] dark:text-[#bbb] transition-colors duration-300">Simply answer a few questions about your typical sleep habits, challenges, and goals.</p>
                </div>
            </div>
            <div class="flex items-center">
                <span class="bg-[#818cf8] text-white rounded-full w-10 h-10 flex justify-center items-center font-bold mr-5 dark:bg-[#a78bfa] transition-colors duration-300">2</span>
                <div>
                    <h3 class="text-2xl text-[#333] mb-2 dark:text-[#eee] transition-colors duration-300">AI Analysis & Insights</h3>
                    <p class="text-[#555] dark:text-[#bbb] transition-colors duration-300">Our intelligent AI analyzes your input to identify patterns and potential areas for improvement.</p>
                </div>
            </div>
            <div class="flex items-center">
                <span class="bg-[#a78bfa] text-white rounded-full w-10 h-10 flex justify-center items-center font-bold mr-5 dark:bg-[#a78bfa] transition-colors duration-300">3</span>
                <div>
                    <h3 class="text-2xl text-[#333] mb-2 dark:text-[#eee] transition-colors duration-300">Personalized Recommendations</h3>
                    <p class="text-[#555] dark:text-[#bbb] transition-colors duration-300">Receive tailored advice and strategies to optimize your sleep schedule and environment.</p>
                </div>
            </div>
            <div class="flex items-center">
                <span class="bg-[#3b82f6] text-white rounded-full w-10 h-10 flex justify-center items-center font-bold mr-5 dark:bg-[#a78bfa] transition-colors duration-300">4</span>
                <div>
                    <h3 class="text-2xl text-[#333] mb-2 dark:text-[#eee] transition-colors duration-300">Start Sleeping Better</h3>
                    <p class="text-[#555] dark:text-[#bbb] transition-colors duration-300">Implement the recommendations and begin your journey towards more restful and rejuvenating sleep.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="testimonials" class="py-20 px-5 md:px-10 bg-white dark:bg-[#222] dark:text-[#bbb] transition-colors duration-300">
        <h2 class="text-3xl md:text-4xl text-[#333] text-center mb-10 dark:text-[#eee] transition-colors duration-300 animate__animated animate__fadeIn">What People Are Saying</h2>
        <div class="max-w-3xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="bg-[#f9f9f9] p-6 rounded-lg shadow-sm dark:bg-[#333] dark:shadow-[0_1px_3px_rgba(255,255,255,0.05)] transition-colors duration-300">
                <p class="text-[#555] italic dark:text-[#bbb] transition-colors duration-300">"SleepWise AI has truly transformed my sleep. The personalized insights were incredibly helpful, and I'm finally waking up feeling refreshed!"</p>
                <p class="text-[#777] text-right dark:text-[#ccc] transition-colors duration-300">- Sarah M.</p>
            </div>
            <div class="bg-[#f9f9f9] p-6 rounded-lg shadow-sm dark:bg-[#333] dark:shadow-[0_1px_3px_rgba(255,255,255,0.05)] transition-colors duration-300">
                <p class="text-[#555] italic dark:text-[#bbb] transition-colors duration-300">"I struggled with inconsistent sleep for years. This assistant provided practical steps that made a real difference. Highly recommended!"</p>
                <p class="text-[#777] text-right dark:text-[#ccc] transition-colors duration-300">- John B.</p>
            </div>
        </div>
    </section>

    <section id="contact" class="py-20 px-5 md:px-10 bg-gradient-to-br from-[#f3e5f5] to-[#e0f7fa] text-center dark:from-[#3a3a3a] dark:to-[#2c2c2c] transition-colors duration-300">
        <h2 class="text-3xl md:text-4xl text-[#333] mb-8 dark:text-[#eee] transition-colors duration-300 animate__animated animate__fadeIn">Contact Us</h2>
        <p class="text-lg text-[#555] mb-5 dark:text-[#bbb] transition-colors duration-300">Have questions or feedback? We'd love to hear from you!</p>
        <a href="mailto:support@sleepwise.ai" class="bg-[#5e56d4] text-white px-6 py-3 rounded-full font-bold hover:bg-[#4d46b3] transition-colors duration-300">Email Support</a>
    </section>

    <footer class="bg-[#333] text-white text-center py-8 text-sm dark:bg-[#222] dark:text-[#ccc] transition-colors duration-300">
        <p>© 2025 SleepWise AI. All rights reserved.</p>
    </footer>

    <div id="chatbot" class="fixed bottom-5 right-5 z-[99] hidden">
        <div class="bg-white rounded-lg shadow-lg w-[350px] max-h-[500px] overflow-hidden dark:bg-[#333] transition-colors duration-300">
            <div class="bg-[#6c63ff] text-white p-4 text-center font-bold dark:bg-[#a78bfa] transition-colors duration-300">Sleep Analysis Assistant</div>
            <div id="chat-container" class="p-4 overflow-y-auto max-h-[300px]">
                <div class="bg-[#ede7f6] text-[#5e35b1] p-3 rounded-full mb-3 float-left max-w-[80%] dark:bg-[#444] dark:text-[#bbb] transition-colors duration-300">Hello! How can I help you with your sleep analysis today?</div>
            </div>
            <div class="p-3 flex">
                <input type="text" id="user-input" placeholder="Ask me anything..." class="w-full mr-3 p-2 border border-[#ddd] rounded-full bg-white text-[#333] dark:border-[#777] dark:bg-[#222] dark:text-[#eee] transition-colors duration-300">
                <button id="send-btn" class="bg-[#5e56d4] text-white px-4 py-2 rounded-full hover:bg-[#4d46b3] transition-colors duration-300">Send</button>
            </div>
        </div>
        <button id="toggle-chatbot" class="bg-[#6c63ff] text-white border-none rounded-full w-16 h-16 text-2xl cursor-pointer shadow-md absolute -top-[70px] left-2 hover:bg-[#5e56d4] dark:bg-[#a78bfa] transition-colors duration-300">💬</button>
    </div>

    <script>
        const body = document.body;
        const darkModeToggle = document.querySelector('.dark-mode-toggle');
        const chatbotDiv = document.getElementById('chatbot');
        const toggleChatbotBtn = document.getElementById('toggle-chatbot');
        const chatContainer = document.getElementById('chat-container');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');

        // Load saved theme and apply it
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', savedTheme); // Use document.documentElement instead of body
        updateDarkModeIcon(savedTheme);

        // Dark mode toggle event listener
        darkModeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateDarkModeIcon(newTheme);
        });

        function updateDarkModeIcon(theme) {
            darkModeToggle.textContent = theme === 'dark' ? '☀️' : '🌙';
        }

        // Chatbot toggle
        toggleChatbotBtn.addEventListener('click', () => {
            chatbotDiv.style.display = chatbotDiv.style.display === 'none' ? 'block' : 'none';
        });

        function addMessage(role, content) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', role === 'user' ? 'user-message' : 'bot-message', 'p-3', 'rounded-full', 'mb-3', 'max-w-[80%]');
            messageDiv.classList.add(role === 'user' ? 'bg-[#e0f7fa]' : 'bg-[#ede7f6]', role === 'user' ? 'text-[#00838f]' : 'text-[#5e35b1]', role === 'user' ? 'float-right' : 'float-left');
            messageDiv.classList.add('dark:' + (role === 'user' ? 'bg-[#555]' : 'bg-[#444]'), 'dark:text-[#eee]');
            messageDiv.textContent = content;
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        async function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;

            addMessage('user', message);
            userInput.value = '';

            const typingIndicator = document.createElement('div');
            typingIndicator.classList.add('message', 'bot-message', 'p-3', 'rounded-full', 'mb-3', 'float-left', 'max-w-[80%]');
            typingIndicator.innerHTML = '<div class="flex gap-2"><div class="w-2 h-2 rounded-full bg-[#777] animate-[blink_1s_infinite]"></div><div class="w-2 h-2 rounded-full bg-[#777] animate-[blink_1s_infinite_0.2s]"></div><div class="w-2 h-2 rounded-full bg-[#777] animate-[blink_1s_infinite_0.4s]"></div></div>';
            chatContainer.appendChild(typingIndicator);
            chatContainer.scrollTop = chatContainer.scrollHeight;

            try {
                const response = await fetch("https://openrouter.ai/api/v1/chat/completions", {
                    method: "POST",
                    headers: {
                        "Authorization": `Bearer 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`,
                        "HTTP-Referer": window.location.href,
                        "X-Title": "SleepWise AI",
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        "model": "deepseek/deepseek-chat-v3-0324:free",
                        "messages": [
                            {"role": "system", "content": "You are a helpful sleep analysis assistant."},
                            {"role": "user", "content": message}
                        ],
                        "temperature": 0.7
                    })
                });
                const data = await response.json();
                chatContainer.removeChild(typingIndicator);
                if (data.choices?.[0]?.message) {
                    addMessage('bot', data.choices[0].message.content);
                } else {
                    addMessage('bot', "Sorry, I couldn't process that request.");
                }
            } catch (error) {
                console.error("Error:", error);
                chatContainer.removeChild(typingIndicator);
                addMessage('bot', "There was an error communicating with the server.");
            }
        }

        sendBtn.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        // Intersection Observers for animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate__animated', 'animate__fadeInUp');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.2 });

        document.querySelectorAll('.features .grid > div').forEach(item => observer.observe(item));

        const observerHowItWorks = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate__animated', 'animate__fadeInLeft');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.3 });

        document.querySelectorAll('#how-it-works .space-y-8 > div').forEach((item, index) => {
            item.style.transitionDelay = `${index * 0.2}s`;
            observerHowItWorks.observe(item);
        });

        const observerTestimonials = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate__animated', 'animate__fadeIn');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.4 });

        document.querySelectorAll('#testimonials .grid > div').forEach(item => observerTestimonials.observe(item));
    </script>
</body>
</html>